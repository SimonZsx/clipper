# docker build -f ./imagequery_w_proxy/Dockerfile5 -t imagequery_w_proxy:c5 .
# docker run -p 12000:12000 -it imagequery_w_proxy:c5

FROM ubuntu:bionic
RUN apt-get update && apt-get install python3 python3-pip -y

RUN pip3 install -U spacy
RUN python3 -m spacy download en_core_web_sm

ADD imagequery_w_proxy/c5_entityExtraction/app /container
WORKDIR /container

# RUN pip3 install grpcio
# RUN pip3 install protobuf
# ADD grpc/app/container_entry.sh /container/
# ADD grpc/app/server.py /container/
# ADD grpc/app/model_pb2_grpc.py /container/
# ADD grpc/app/model_pb2.py /container/
# ADD grpc/app/proxy_pb2_grpc.py /container/
# ADD grpc/app/proxy_pb2.py /container/

# CMD ["/container/container_entry.sh", "c4", "/container/server.py"]
# CMD ["python3","/container/predict.py"]

EXPOSE 12000